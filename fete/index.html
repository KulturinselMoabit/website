<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Fête du Seeee 2025 im Strandbad Tegelsee | Kulturinsel Moabit</title>
  <meta name="description" content="Erlebe das ehrenamtliche Musikfestival Fête du Seeee am 29.–30.08.2025 im Strandbad Tegelsee. Jetzt Programm entdecken!" />
  <link rel="canonical" href="https://kulturinselmoabit.org/fete/" />
  <link rel="icon" href="/favicon.svg" type="image/svg+xml" />

  <!-- Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700;800&display=swap" rel="stylesheet" />
  <!-- „gestempelte“ Schrift nur fürs Line-up -->
  <link href="https://fonts.googleapis.com/css2?family=Rubik+Dirt&display=swap" rel="stylesheet">

  <!-- CSS -->
  <link rel="stylesheet" href="/styles.css?v=60" />
</head>
<body>

  <!-- HEADER -->
  <header id="site-header">
    <div class="container header-inner">
      <div class="logo">
        <img src="/logo.svg" alt="Logo Kulturinsel Moabit" />
      </div>
      <nav class="site-nav">
        <button class="menu-toggle" aria-label="Menü öffnen / schließen">
          <span></span><span></span><span></span>
        </button>
        <ul>
          <li><a href="/">Startseite</a></li>
          <li><a href="/fete/" class="active">Fête du Seeee</a></li>
          <li><a href="/jam/">Jamsession</a></li>
          <li><a href="/mitmachen/">Mitmachen</a></li>
          <li><a href="/uber-uns/">Über uns</a></li>
        </ul>
      </nav>
    </div>
  </header>

  <!-- MAIN -->
  <main>
    <section class="container page-inner page-inner--wide">
      <div class="page-text">

        <!-- Banner-SVG (dein Artwork inkl. Text) -->
        <figure class="fete-banner">
          <img class="fete-banner-img" src="fete-banner.svg" alt="Fête du Seeee – Sommerfest • Konzerte • Theater • Kinderprogramm" />
        </figure>

        <!-- Meta-Zeile -->
        <div class="fete-meta">
          <span>Strandbad Tegelsee</span>
          <span class="sep">•</span>
          <span>29. &amp; 30. August 2025</span>
        </div>

        <!-- Slideshow (funktionierende Variante mit Rahmen + runden Ecken) -->
        <section class="fete-hero">
          <div class="fete-slider" id="feteSlider" aria-label="Festival-Impressionen">
            <!-- Fallback-Bild, wird von JS ersetzt, sobald Slides gefunden -->
            <img class="fete-static" src="1.jpg" alt="Festivalbild 1" />
            <button class="fete-control prev" aria-label="Vorheriges">‹</button>
            <button class="fete-control next" aria-label="Nächstes">›</button>
            <div class="fete-dots" role="tablist" aria-label="Slideshow-Navigation"></div>
          </div>
          <noscript>
            <p style="text-align:center;margin-top:.5rem;">Slideshow benötigt JavaScript.</p>
          </noscript>
        </section>

        <!-- Info-Text -->
        <div class="info-block">
          <p>
            Dieses Jahr wird unsere Fête du Seeee noch bunter und größer: Wir feiern
            an zwei Tagen auf gleich <strong>zwei Bühnen</strong> im wunderschönen
            Strandbad Tegelsee! Freut euch auf ein vielseitiges Programm aus
            Musik, Theater und Kunst, das von ehrenamtlichen Künstler*innen für euch
            gestaltet wird.
          </p>
          <p>
            Genießt tagsüber Kultur-Highlights und bunte Aktionen für Groß und Klein
            direkt am Wasser, und lasst euch abends von mitreißenden Konzerten und
            Performances auf beiden Bühnen mitreißen. Bei den unterschiedlichsten Genres ist für jeden Geschmack
            etwas dabei!
          </p>
        </div>

        <!-- ===== LINE-UP ===== -->
        <section class="lineup">
          <div class="lineup-wrap">
            <div class="lineup-heading">Line-Up</div>

            <div class="line">
              <div class="lineup-daytag">FR. 29. AUGUST</div>
              <ul class="acts" aria-label="Line-up Freitag, 29. August">
                <li>Circus Rhapsody</li>
                <li>Blue Saloon</li>
                <li>The Brehmes’</li>
                <li>Futari</li>
                <li>Theater &amp; Chor für und von Kindern</li>
              </ul>
            </div>

            <div class="line">
              <div class="lineup-daytag">SA. 30. AUGUST</div>
              <ul class="acts" aria-label="Line-up Samstag, 30. August">
                <li>Maindish</li>
                <li>Crescendo Planet</li>
                <li>XIX</li>
                <li>Noah &amp; Safa</li>
                <li>Kvytlyst</li>
                <li>Julius Kayser</li>
                <li>Theater &amp; Chor für und von Kindern</li>
              </ul>
            </div>
          </div>
        </section>
        <!-- ===== /LINE-UP ===== -->

        <!-- Eintritt -->
        <div class="lineup-wrap">
          <h3 class="section-title">Eintritt</h3>
        </div>
        <div class="entry">
          <p><strong>nur Strandbadeintritt:</strong></p>
          <ul>
            <li>Erwachsene: 6 €</li>
            <li>Ermäßigt: 4 €</li>
            <li>Ab 18 Uhr: 2,50 €</li>
          </ul>
          <p>
            Kommt vorbei, bringt eure Freund*innen mit und lasst uns gemeinsam am
            Tegeler See feiern – wir freuen uns auf euch!
          </p>
        </div>

      </div>
    </section>
  </main>

  <!-- FOOTER -->
  <footer id="site-footer">
    <div class="container footer-inner">
      <p>
        <a href="/impressum.html">Impressum</a> |
        <a href="/kontakt.html">Kontakt</a> |
        <a href="/datenschutz.html">Datenschutz</a>
      </p>
      <p>© 2025 Kulturinsel Moabit – alle Rechte vorbehalten</p>
    </div>
  </footer>

  <!-- JS: Burger-Menü -->
  <script>
    const btn = document.querySelector('.menu-toggle');
    const nav = document.querySelector('.site-nav ul');
    if (btn && nav) {
      btn.addEventListener('click', () => {
        nav.classList.toggle('open');
        btn.classList.toggle('open');
      });
    }
  </script>

  <!-- JS: Slideshow (Loader) – Version, die bei dir zuverlässig lief -->
  <script>
  (function(){
    const slider = document.getElementById('feteSlider');
    if (!slider) return;

    // Controls/Dots sicherstellen
    let prevBtn = slider.querySelector('.fete-control.prev');
    let nextBtn = slider.querySelector('.fete-control.next');
    let dotsWrap = slider.querySelector('.fete-dots');
    const hero = slider.closest('.fete-hero');

    if (!prevBtn) {
      prevBtn = document.createElement('button');
      prevBtn.className = 'fete-control prev';
      prevBtn.setAttribute('aria-label','Vorheriges');
      prevBtn.textContent = '‹';
      slider.appendChild(prevBtn);
    }
    if (!nextBtn) {
      nextBtn = document.createElement('button');
      nextBtn.className = 'fete-control next';
      nextBtn.setAttribute('aria-label','Nächstes');
      nextBtn.textContent = '›';
      slider.appendChild(nextBtn);
    }
    if (!dotsWrap) {
      dotsWrap = document.createElement('div');
      dotsWrap.className = 'fete-dots';
      dotsWrap.setAttribute('role','tablist');
      dotsWrap.setAttribute('aria-label','Slideshow-Navigation');
      slider.appendChild(dotsWrap);
    }

    // Ordner-URL robust (…/fete/ oder …/test/)
    const dirURL = new URL('.', document.baseURI);
    const NUMS = Array.from({length: 9}, (_, i) => i + 1);

    function loadImage(url){
      return new Promise(res=>{
        const img = new Image();
        img.onload  = ()=>res({ok:true, node:img});
        img.onerror = ()=>res({ok:false});
        img.loading='lazy'; img.decoding='async';
        img.src = url; // kein Cache-Buster -> Reihenfolge bleibt 1..9
      });
    }
    function loadVideo(url){
      return new Promise(res=>{
        const v = document.createElement('video');
        v.preload='metadata'; v.muted=true; v.playsInline=true; v.loop=true;
        const ok=()=>{cleanup(); res({ok:true, node:v});};
        const err=()=>{cleanup(); res({ok:false});};
        function cleanup(){ v.removeEventListener('loadedmetadata', ok); v.removeEventListener('error', err); }
        v.addEventListener('loadedmetadata', ok);
        v.addEventListener('error', err);
        v.src = url;
      });
    }
    async function probe(n){
      // 1) .jpg, 2) .mp4
      const jpg = new URL(`${n}.jpg`, dirURL).href;
      let r = await loadImage(jpg);
      if (r.ok){ r.node.alt = `Festivalbild ${n}`; return {idx:n, node:r.node}; }
      const mp4 = new URL(`${n}.mp4`, dirURL).href;
      r = await loadVideo(mp4);
      if (r.ok){ return {idx:n, node:r.node}; }
      return null;
    }

    (async function init(){
      // alles prüfen und dann sortiert einbauen → korrekte Reihenfolge
      const results = await Promise.all(NUMS.map(probe));
      const items = results.filter(Boolean).sort((a,b)=>a.idx - b.idx);
      if (!items.length){
        hero?.appendChild(Object.assign(document.createElement('div'), {
          textContent: 'Keine Medien gefunden (erwartet: 1.jpg … 9.jpg / .mp4 im gleichen Ordner).',
          style: 'padding:1rem;border:2px solid #016DAF;border-radius:8px;background:#fff;text-align:center;'
        }));
        return;
      }

      const slides = [], dots = [];
      function addSlide(node, i){
        const wrap = document.createElement('div');
        wrap.className='fete-slide';
        wrap.setAttribute('data-index', i);
        wrap.setAttribute('aria-hidden','true');
        wrap.appendChild(node);
        slider.insertBefore(wrap, dotsWrap);

        const dot = document.createElement('button');
        dot.className='fete-dot'; dot.type='button';
        dot.setAttribute('aria-label','Slide '+(i+1));
        dotsWrap.appendChild(dot);

        slides.push(wrap); dots.push(dot);
      }
      items.forEach((it,i)=>addSlide(it.node, i));

      // Controls & Dots ans Ende setzen (über Slides)
      slider.appendChild(prevBtn);
      slider.appendChild(nextBtn);
      slider.appendChild(dotsWrap);

      let current = 0;
      function show(i){
        current = (i + slides.length) % slides.length;
        slides.forEach((el, idx)=>{
          const active = idx === current;
          el.classList.toggle('active', active);
          el.setAttribute('aria-hidden', active ? 'false' : 'true');
          const v = el.querySelector('video');
          if (v){ active ? v.play().catch(()=>{}) : v.pause(); }
        });
        dots.forEach((d, idx)=>d.classList.toggle('active', idx === current));
      }

      prevBtn.addEventListener('click', ()=>show(current - 1));
      nextBtn.addEventListener('click', ()=>show(current + 1));

      slider.setAttribute('tabindex','0');
      slider.addEventListener('keydown', e=>{
        if (e.key === 'ArrowLeft')  show(current - 1);
        if (e.key === 'ArrowRight') show(current + 1);
      });

      let sx=null;
      slider.addEventListener('touchstart', e=>{ sx = e.touches[0].clientX; }, {passive:true});
      slider.addEventListener('touchend',   e=>{
        if (sx==null) return;
        const dx = e.changedTouches[0].clientX - sx;
        if (Math.abs(dx) > 40) (dx < 0 ? show(current + 1) : show(current - 1));
        sx = null;
      });

      show(0);
    })();
  })();
  </script>

  <!-- JS: Autoplay (alle 5s; pausiert bei Hover/Touch/Tab-unsichtbar) -->
  <script>
  (function () {
    const slider = document.getElementById('feteSlider');
    if (!slider) return;

    function slides(){ return slider.querySelectorAll('.fete-slide'); }
    function next(){ slider.querySelector('.fete-control.next')?.click(); }

    let timer = null, hover = false;

    function start(){
      if (timer || slides().length < 2) return;
      timer = setInterval(() => { if (!hover && !document.hidden) next(); }, 5000);
    }
    function stop(){ clearInterval(timer); timer = null; }

    slider.addEventListener('mouseenter', () => hover = true);
    slider.addEventListener('mouseleave', () => hover = false);
    slider.addEventListener('touchstart', () => hover = true, { passive: true });
    slider.addEventListener('touchend',   () => hover = false, { passive: true });
    document.addEventListener('visibilitychange', () => { document.hidden ? stop() : start(); });

    const mo = new MutationObserver(() => { if (slides().length >= 2) { start(); mo.disconnect(); } });
    mo.observe(slider, { childList: true, subtree: true });

    setTimeout(start, 2000);
  })();
  </script>

  <!-- JS: Line-up – kein Punkt am Zeilenanfang -->
  <script>
  (function () {
    function updateLineupSeparators() {
      document.querySelectorAll('.lineup .acts').forEach(ul => {
        const items = Array.from(ul.children);
        let lastTop = null;
        items.forEach((li, idx) => {
          li.classList.remove('row-start');
          const t = li.offsetTop;
          if (idx === 0 || lastTop === null || Math.abs(t - lastTop) > 1) {
            li.classList.add('row-start'); // neuer Zeilenanfang -> kein Punkt davor
            lastTop = t;
          }
        });
      });
    }
    const debounce = (() => { let id; return () => { clearTimeout(id); id = setTimeout(updateLineupSeparators, 100); }; })();
    window.addEventListener('load', updateLineupSeparators);
    window.addEventListener('resize', debounce);
    window.addEventListener('orientationchange', debounce);
    if (document.fonts && document.fonts.ready) { document.fonts.ready.then(updateLineupSeparators); }
  })();
  </script>
</body>
</html>
