<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Fête du Seeee 2025 im Strandbad Tegelsee | Kulturinsel Moabit</title>
  <meta name="description" content="Erlebe das ehrenamtliche Musikfestival Fête du Seeee am 29.–30.08.2025 im Strandbad Tegelsee. Jetzt Programm entdecken!" />
  <link rel="canonical" href="https://kulturinselmoabit.org/fete/" />
  <link rel="icon" href="/favicon.svg" type="image/svg+xml" />

  <!-- Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700;800&display=swap" rel="stylesheet" />
  <link href="https://fonts.googleapis.com/css2?family=Rubik+Dirt&display=swap" rel="stylesheet" />

  <!-- CSS (Cache-Buster gern anpassen) -->
  <link rel="stylesheet" href="/styles.css?v=92" />
</head>
<body class="fete-page">

  <!-- HEADER -->
  <header id="site-header">
    <div class="container header-inner">
      <div class="logo"><img src="/logo.svg" alt="Logo Kulturinsel Moabit" /></div>
      <nav class="site-nav">
        <button class="menu-toggle" aria-label="Menü öffnen / schließen"><span></span><span></span><span></span></button>
        <ul>
          <li><a href="/">Startseite</a></li>
          <li><a href="/fete/" class="active">Fête du Seeee</a></li>
          <li><a href="/jam/">Jamsession</a></li>
          <li><a href="/mitmachen/">Mitmachen</a></li>
          <li><a href="/uber-uns/">Über uns</a></li>
        </ul>
      </nav>
    </div>
  </header>

  <!-- MAIN -->
  <main>
    <section class="container page-inner">
      <div class="page-text">

        <!-- Banner (SVG-Datei im gleichen Ordner) -->
        <figure class="fete-banner">
          <img class="fete-banner-img" src="fete-banner.svg" alt="Fête du Seeee – Sommerfest • Konzerte • Theater • Kinderprogramm" />
        </figure>

        <!-- Meta-Zeile -->
        <div class="fete-meta">
          <span>Strandbad Tegelsee</span>
          <span class="sep">•</span>
          <span>29. &amp; 30. August 2025</span>
        </div>

        <!-- Slideshow -->
        <section class="fete-hero">
          <div class="fete-slider" id="feteSlider" aria-label="Festival-Impressionen">
            <!-- statisches Fallback (wird nach Init entfernt) -->
            <img class="fete-static" src="1.jpg" alt="Festivalbild 1" />
            <button class="fete-control prev" aria-label="Vorheriges">‹</button>
            <button class="fete-control next" aria-label="Nächstes">›</button>
            <div class="fete-dots" role="tablist" aria-label="Slideshow-Navigation"></div>
          </div>
          <noscript><p style="text-align:center;margin-top:.5rem;">Slideshow benötigt JavaScript.</p></noscript>
        </section>

        <!-- Info-Text -->
        <div class="info-block">
          <p>
            Dieses Jahr wird unsere Fête du Seeee noch bunter und größer: Wir feiern
            an zwei Tagen auf gleich <strong>zwei Bühnen</strong> im wunderschönen
            Strandbad Tegelsee! Freut euch auf ein vielseitiges Programm aus
            Musik, Theater und Kunst, das von ehrenamtlichen Künstler*innen für euch
            gestaltet wird.
          </p>
          <p>
            Genießt tagsüber Kultur-Highlights und bunte Aktionen für Groß und Klein
            direkt am Wasser, und lasst euch abends von mitreißenden Konzerten und
            Performances auf beiden Bühnen mitreißen. Bei den unterschiedlichsten Genres ist für jeden Geschmack
            etwas dabei!
          </p>
        </div>

        <!-- ===== LINE-UP ===== -->
        <section class="lineup">
          <div class="lineup-wrap">
            <div class="lineup-heading">Line-Up</div>

            <div class="line">
              <div class="lineup-daytag">FR. 29. AUGUST</div>
              <ul class="acts" aria-label="Line-up Freitag, 29. August">
                <li>Circus Rhapsody</li>
                <li>Blue Saloon</li>
                <li>The Brehmes’</li>
                <li>Futari</li>
                <li>Theater &amp; Chor für und von Kindern</li>
              </ul>
            </div>

            <div class="line">
              <div class="lineup-daytag">SA. 30. AUGUST</div>
              <ul class="acts" aria-label="Line-up Samstag, 30. August">
                <li>Maindish</li>
                <li>Crescendo Planet</li>
                <li>XIX</li>
                <li>Noah &amp; Safa</li>
                <li>Kvytlyst</li>
                <li>Julius Kayser</li>
                <li>Theater &amp; Chor für und von Kindern</li>
              </ul>
            </div>
          </div>
        </section>
        <!-- ===== /LINE-UP ===== -->

        <!-- Eintritt -->
        <div class="lineup-wrap">
          <h3 class="section-title">Eintritt</h3>
        </div>
        <div class="entry">
          <p><strong>nur Strandbadeintritt:</strong></p>
          <ul>
            <li>Erwachsene: 6 €</li>
            <li>Ermäßigt: 4 €</li>
            <li>Ab 18 Uhr: 2,50 €</li>
          </ul>
          <p>Kommt vorbei, bringt eure Freund*innen mit und lasst uns gemeinsam am Tegeler See feiern – wir freuen uns auf euch!</p>
        </div>

      </div>
    </section>
  </main>

  <!-- FOOTER -->
  <footer id="site-footer">
    <div class="container footer-inner">
      <p><a href="/impressum.html">Impressum</a> | <a href="/kontakt.html">Kontakt</a> | <a href="/datenschutz.html">Datenschutz</a></p>
      <p>© 2025 Kulturinsel Moabit – alle Rechte vorbehalten</p>
    </div>
  </footer>

  <!-- JS: Burger-Menü -->
  <script>
    const btn = document.querySelector('.menu-toggle');
    const nav = document.querySelector('.site-nav ul');
    if (btn && nav) {
      btn.addEventListener('click', () => {
        nav.classList.toggle('open');
        btn.classList.toggle('open');
      });
    }
  </script>

  <!-- JS: Slideshow (robust, entfernt Fallback, Autoplay vorhanden) -->
  <script>
  (function(){
    var slider = document.getElementById('feteSlider');
    if (!slider) return;

    var prevBtn = slider.querySelector('.fete-control.prev');
    var nextBtn = slider.querySelector('.fete-control.next');
    var dotsWrap = slider.querySelector('.fete-dots');
    var staticImg = slider.querySelector('.fete-static');

    function folderPath(){
      var p = location.pathname;
      if (p.slice(-1) === '/') return p;
      if (/\/index\.html?$/i.test(p)) return p.replace(/index\.html?$/i,'');
      if (p.indexOf('.') > -1) return p.replace(/[^/]+$/, '');
      return p + '/';
    }
    var BASE = folderPath();

    function testImg(url){
      return new Promise(function(res){
        var i = new Image();
        i.onload = function(){ res(true); };
        i.onerror = function(){ res(false); };
        i.src = url;
      });
    }
    function testVideo(url){
      return new Promise(function(res){
        var v = document.createElement('video');
        function ok(){ cleanup(); res(true); }
        function err(){ cleanup(); res(false); }
        function cleanup(){ v.removeEventListener('loadedmetadata', ok); v.removeEventListener('error', err); }
        v.addEventListener('loadedmetadata', ok);
        v.addEventListener('error', err);
        v.src = url;
      });
    }

    function loadCandidate(n){
      return (async function(){
        var jpg = BASE + n + '.jpg';
        var hasImg = await testImg(jpg);
        if (hasImg){
          var img = new Image();
          img.src = jpg; img.alt = 'Festivalbild ' + n; img.loading = 'lazy'; img.decoding = 'async';
          return { idx:n, node: img };
        }
        var mp4 = BASE + n + '.mp4';
        var hasVid = await testVideo(mp4);
        if (hasVid){
          var v = document.createElement('video');
          v.src = mp4; v.preload = 'metadata'; v.muted = true; v.playsInline = true; v.loop = true;
          return { idx:n, node: v };
        }
        return null;
      })();
    }

    (async function init(){
      var nums = Array.from({length:9}, function(_,i){ return i+1; });
      var results = await Promise.all(nums.map(loadCandidate));
      var items = results.filter(Boolean).sort(function(a,b){ return a.idx - b.idx; });

      if (!items.length){
        // keine Medien gefunden -> statisches Bild bleibt
        return;
      }

      var slides = [], dots = [];

      function addSlide(node, i){
        var wrap = document.createElement('div');
        wrap.className = 'fete-slide';
        wrap.setAttribute('data-index', i);
        wrap.setAttribute('aria-hidden', 'true');
        wrap.appendChild(node);
        slider.insertBefore(wrap, dotsWrap);

        var dot = document.createElement('button');
        dot.className = 'fete-dot';
        dot.type = 'button';
        dot.setAttribute('aria-label', 'Slide ' + (i+1));
        dotsWrap.appendChild(dot);

        slides.push(wrap); dots.push(dot);
      }

      items.forEach(function(it,i){ addSlide(it.node, i); });

      // statisches Fallback entfernen
      if (staticImg && staticImg.parentNode) staticImg.parentNode.removeChild(staticImg);

      // Wenn nur 1 Slide: Pfeile & Dots verstecken
      if (slides.length < 2){
        prevBtn.style.display = 'none';
        nextBtn.style.display = 'none';
        dotsWrap.style.display = 'none';
      }

      var current = 0;
      function show(i){
        current = (i + slides.length) % slides.length;
        for (var s=0; s<slides.length; s++){
          var el = slides[s];
          var active = (s === current);
          el.classList.toggle('active', active);
          el.setAttribute('aria-hidden', active ? 'false' : 'true');
          var v = el.querySelector('video');
          if (v){ active ? v.play().catch(function(){}) : v.pause(); }
        }
        for (var d=0; d<dots.length; d++){
          dots[d].classList.toggle('active', d === current);
        }
      }

      prevBtn.addEventListener('click', function(){ show(current - 1); });
      nextBtn.addEventListener('click', function(){ show(current + 1); });
      dots.forEach(function(d, idx){ d.addEventListener('click', function(){ show(idx); }); });

      slider.setAttribute('tabindex','0');
      slider.addEventListener('keydown', function(e){
        if (e.key === 'ArrowLeft')  show(current - 1);
        if (e.key === 'ArrowRight') show(current + 1);
      });

      // Touch-Swipe
      var sx = null;
      slider.addEventListener('touchstart', function(e){ sx = e.touches[0].clientX; }, {passive:true});
      slider.addEventListener('touchend', function(e){
        if (sx == null) return;
        var dx = e.changedTouches[0].clientX - sx;
        if (Math.abs(dx) > 40){ (dx < 0 ? show(current + 1) : show(current - 1)); }
        sx = null;
      });

      show(0);

      // Autoplay
      var timer = null, hover = false;
      function start(){ if (timer || slides.length < 2) return; timer = setInterval(function(){ if (!hover && !document.hidden) show(current + 1); }, 5000); }
      function stop(){ if (timer) { clearInterval(timer); timer = null; } }
      slider.addEventListener('mouseenter', function(){ hover = true; });
      slider.addEventListener('mouseleave', function(){ hover = false; });
      slider.addEventListener('touchstart', function(){ hover = true; }, { passive:true });
      slider.addEventListener('touchend',   function(){ hover = false; }, { passive:true });
      document.addEventListener('visibilitychange', function(){ document.hidden ? stop() : start(); });
      start();
    })();
  })();
  </script>

  <!-- JS: Line-up – kein Punkt am Zeilenanfang -->
  <script>
  (function () {
    function updateLineupSeparators() {
      document.querySelectorAll('.fete-page .lineup .acts').forEach(function(ul){
        var items = Array.prototype.slice.call(ul.children);
        var lastTop = null;
        items.forEach(function(li, idx){
          li.classList.remove('row-start');
          var t = li.offsetTop;
          if (idx === 0 || lastTop === null || Math.abs(t - lastTop) > 1) {
            li.classList.add('row-start');
            lastTop = t;
          }
        });
      });
    }
    var debounceId;
    function debounce(){ clearTimeout(debounceId); debounceId = setTimeout(updateLineupSeparators, 100); }
    window.addEventListener('load', updateLineupSeparators);
    window.addEventListener('resize', debounce);
    window.addEventListener('orientationchange', debounce);
    if (document.fonts && document.fonts.ready) { document.fonts.ready.then(updateLineupSeparators); }
  })();
  </script>
</body>
</html>
